:root {
  --font-classic: 'Noto Serif SC', 'æ¥·ä½“', 'STKaiti', serif;

  /* === æ–°å¢ï¼šä¸ºäº†è®©ç¼–è¾‘å™¨ä¸æŠ¥é”™ï¼Œç»™è¿™äº›å˜é‡ä¸€ä¸ªé»˜è®¤å€¼ === */
  --tx: 0px;
  --ty: 0px;
  --spray-x: 0px;
  --spray-y: 0px;
  --spray-rotation: 0deg;
}
/* =========================================
   1. åŸºç¡€è®¾ç½® & å­—ä½“
   ========================================= */
@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap');

html {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: 'Work Sans', sans-serif;
  /* å®šä¹‰ä¸­æ–‡å­—ä½“å˜é‡ï¼Œä¾›æ–°ç•Œé¢ä½¿ç”¨ */
  --font-classic: 'Noto Serif SC', 'æ¥·ä½“', 'STKaiti', serif;
}

/* =========================================
   2. åŸæœ‰åŠ¨ç”»å®¹å™¨ (æ—§é¡¹ç›®æ ¸å¿ƒæ ·å¼)
   ========================================= */
.container {
  height: 100vh;
  width: 100vh;
  margin: 0 auto;
  text-align: center;
  visibility: hidden; /* é»˜è®¤éšè—ï¼Œç­‰å¾…åŠ¨ç”»è„šæœ¬è§¦å‘ */
  position: relative;
  overflow: hidden;
  /* ç¡®ä¿å®ƒå®šä½å‡†ç¡®ï¼Œä»¥å…è¢«æ–°ç•Œé¢æŒ¤æ­ª */
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
}

.container div.six {
  top: 10vh;
  z-index: 1;
}

.container div.seven,
.container div.eight {
  width: 100vw;
  height: 100vh;
  position: fixed;
  top: 0;
}

.container > div {
  position: absolute;
  left: 0;
  right: 0;
  top: 20vh;
}

.one { font-size: 4.5rem; }
.one > img { vertical-align: middle; margin-bottom: 10px; max-width: 100%; height: auto; }
.two { font-size: 1.2rem; font-weight: lighter; }
.three { font-size: 3rem; }

.four .text-box {
  width: 600px;
  margin: 0 auto;
  border: 3px solid #aaa;
  border-radius: 5px;
  padding: 10px;
  position: relative;
}

.text-box p { margin: 0; text-align: left; }
.text-box span { visibility: hidden; }

.text-box .fake-btn {
  position: absolute;
  right: 5px;
  bottom: 5px;
  color: #fff;
  background-color: #2ba245;
  padding: 5px 8px;
  border-radius: 3px;
}

.five p { font-size: 2rem; position: absolute; left: 0; right: 0; }
.idea-3 strong { padding: 3px 5px; border-radius: 3px; display: inline-block; }
.five .idea-5 { font-size: 4rem; }

.idea-5 span,
.idea-6 span,
.wish-hbd span { display: inline-block; }

.idea-6 span { font-size: 15rem; }

.six { position: relative; }
.six img { display: inline-block; max-width: 100%; height: auto; }
.six .hat {
  position: absolute;
  width: 80px;
  top: -70px;
  left: 49%;
  transform: scale(1.1);
}

.baloons img { display: inline-block; position: absolute; }
.baloons img:nth-child(even) { left: -10%; }
.baloons img:nth-child(odd) { right: -10%; }
.baloons img:nth-child(3n + 0) { left: 30%; }

/* çº¸å±‘ svg æ ·å¼ */
.eight svg {
  width: 25px;
  position: absolute;
  top: 0;
  left: 0;
  visibility: hidden;
  z-index: -1;
}
.eight svg:nth-child(1) { top: 7vh; left: 5vw; fill: #bd6ecf; }
.eight svg:nth-child(2) { top: 23vh; left: 35vw; fill: #7dd175; }
.eight svg:nth-child(3) { top: 33vh; left: 23vw; fill: #349d8b; }
.eight svg:nth-child(4) { top: 43vh; left: 57vw; fill: #347a9d; }
.eight svg:nth-child(5) { top: 68vh; left: 7vw; fill: #c66053; }
.eight svg:nth-child(6) { top: 42vh; left: 77vw; fill: #bfaa40; }
.eight svg:nth-child(7) { top: 68vh; left: 83vw; fill: #e3bae8; }
.eight svg:nth-child(8) { top: 86vh; left: 37vw; fill: #8762cb; }
.eight svg:nth-child(9) { top: 94vh; left: 87vw; fill: #9a90da; }

.wish-hbd { font-size: 3em; margin: 0; text-transform: uppercase; }
.wish h5 { font-weight: lighter; font-size: 2rem; margin: 10px 0 0; }
.nine p { font-size: 2rem; font-weight: lighter; }
#replay { z-index: 3; cursor: pointer; }

/* =========================================
   3. éŸ³ä¹æ’­æ”¾æŒ‰é’® (ç»è¿‡ä¿®æ”¹)
   ========================================= */
.play-pause {
  width: 40px; /* ç¨å¾®è°ƒå°ä¸€ç‚¹ï¼Œæ›´ç²¾è‡´ */
  height: 40px;
  background-size: contain;
  background-repeat: no-repeat;
  background-image: url('../img/play.svg');
  background-color: transparent;
  border: none;
  cursor: pointer;

  /* å›ºå®šåœ¨å³ä¸Šè§’ */
  position: fixed;
  right: 30px;
  top: 30px;
  z-index: 9999; /* ç¡®ä¿å±‚çº§æœ€é«˜ */

  /* åˆå§‹éšè—é€»è¾‘ */
  opacity: 0;
  pointer-events: none; /* éšè—æ—¶ä¸å¯ç‚¹å‡» */
  transition: opacity 2s ease; /* 2ç§’æ·¡å…¥æ•ˆæœ */
}

/* å½“æ·»åŠ  .show ç±»æ—¶æ˜¾ç¤º */
.play-pause.show {
  opacity: 1;
  pointer-events: auto;
}

/* æ’­æ”¾æ—¶çš„æ—‹è½¬åŠ¨ç”» */
.play-pause.playing {
  background-image: url('../img/pause.svg');
  animation: rotate 3s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* =========================================
   4. æ–°å¢ï¼šæ–°ç•Œé¢ç‰¹æ•ˆæ ·å¼ (çƒŸèŠ±ã€è´ºå¡)
   ========================================= */

/* è´ºå¡å…¥åœºåŠ¨ç”» */
.card-appear {
  opacity: 0;
  transform: scale(0.8) translateY(20px);
  animation: card-entrance 1.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  will-change: transform, opacity;
  font-family: var(--font-classic);
}
@keyframes card-entrance {
  0% { opacity: 0; transform: scale(0.8) translateY(20px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

/* çƒŸèŠ±ç²’å­ */
/*.firework {*/
/*  position: absolute;*/
/*  width: 6px;*/
/*  height: 6px;*/
/*  border-radius: 50%;*/
/*  animation: explode 1.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;*/
/*  transform-origin: center center;*/
/*  will-change: transform, opacity;*/
/*}*/
.firework {
  width: 8px !important;  /* ç¨å¾®å¤§ä¸€ç‚¹ç‚¹ */
  height: 8px !important;
  transform: translate(0, 0); /* åˆå§‹åœ¨ä¸­å¿ƒ */
  /* ç§»é™¤æ—§çš„ animation å®šä¹‰ï¼Œå®Œå…¨ç”± JS æ§åˆ¶ */
}
@keyframes explode {
  0% { transform: scale(1) rotate(0deg); opacity: 1; }
  50% { opacity: 1; }
  100% { transform: scale(40) rotate(45deg); opacity: 0; }
}

/* å–·å°„ç¬¦å· */
.symbol {
  position: absolute;
  font-size: 28px;
  user-select: none;
  pointer-events: none;
  opacity: 0;
  animation: spray-out 2s cubic-bezier(0.23, 1, 0.32, 1) forwards;
  background-image: linear-gradient(135deg, #ff4d4d, #ffb700);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: #ff4d4d;
  text-shadow: 2px 2px 8px rgba(255, 77, 77, 0.5);
  will-change: transform, opacity;
  font-family: var(--font-classic);
  letter-spacing: 1px;
}
.symbol[data-type="emoji"] {
  background-image: none;
  -webkit-background-clip: unset;
  background-clip: unset;
  -webkit-text-fill-color: unset;
  color: unset;
  text-shadow: none;
  font-family: inherit;
}
@keyframes spray-out {
  0% { opacity: 0; transform: translate3d(0, 0, 0) rotate(0) scale(0.8); }
  15% { opacity: 1; transform: translate3d(calc(var(--spray-x) * 0.2), calc(var(--spray-y) * 0.2), 0) rotate(calc(var(--spray-rotation) * 0.2)) scale(1.5); }
  70% { opacity: 1; transform: translate3d(calc(var(--spray-x) * 0.7), calc(var(--spray-y) * 0.7), 0) rotate(calc(var(--spray-rotation) * 0.7)) scale(1.2); }
  100% { opacity: 0; transform: translate3d(var(--spray-x), var(--spray-y), 0) rotate(var(--spray-rotation)) scale(0.8); }
}

/* èƒŒæ™¯ä¸æ‹–å°¾ */
.bg-pattern {
  background-image: radial-gradient(circle at 1px 1px, rgba(255, 0, 0, 0.1) 1px, transparent 0);
  background-size: 40px 40px;
  pointer-events: none;
}
.card-wrapper {
  transform-style: preserve-3d;
  perspective: 1000px;
  will-change: transform;
}
.card-wrapper > div {
  transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  backface-visibility: hidden;
}
.card-wrapper:hover > div {
  transform: translateY(-5px) scale(1.02);
  box-shadow: 0 20px 40px rgba(255, 0, 0, 0.15);
}
.symbol-trail {
  position: absolute;
  pointer-events: none;
  opacity: 0.3;
  filter: blur(2px);
  animation: trail-fade 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  font-size: 24px;
  background-image: linear-gradient(135deg, #ff4d4d, #ffb700);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: #ff4d4d;
  will-change: transform, opacity;
  font-family: var(--font-classic);
  letter-spacing: 1px;
}
.symbol-trail[data-type="emoji"] {
  background-image: none;
  -webkit-background-clip: unset;
  background-clip: unset;
  -webkit-text-fill-color: unset;
  color: unset;
  font-family: inherit;
}
@keyframes trail-fade {
  0% { opacity: 0.3; transform: scale(0.9); }
  100% { opacity: 0; transform: scale(0.6); }
}
.click-hint {
  font-family: var(--font-classic);
  font-weight: 600;
  text-shadow: 0 0 10px rgba(255, 77, 77, 0.3);
  background-image: linear-gradient(135deg, #ff4d4d, #ff8c00);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: #ff4d4d;
  letter-spacing: 2px;
}

/* =========================================
   5. åª’ä½“æŸ¥è¯¢ (ä¿æŒåŸæ ·ï¼Œå¤„ç†æ—§ç•Œé¢çš„å“åº”å¼)
   ========================================= */
@media screen and (max-height: 1000px) { .six .hat { left: 49%; } }
@media screen and (max-height: 800px) { .six .hat { left: 46%; } }
@media screen and (max-height: 700px) { .six .hat { left: 44%; } }
@media screen and (max-height: 850px) and (max-width: 450px) { .six .hat { left: 42%; } }
@media screen and (max-width: 500px) {
  .container { width: 90%; }
  .four .text-box { width: 90%; }
  .text-box .fake-btn { right: 5px; bottom: -38px; }
  .idea-5 span { display: block; }
  .idea-6 span { font-size: 10rem; }
  .six .hat { width: 50px; top: -20px; }
  .wish-hbd { font-size: 2.2em; }
  .wish h5 { font-size: 1.4rem; }
  .nine p { font-size: 1.5rem; font-weight: lighter; }
}
/* =========================================
   9. ä¿®å¤ä¸­å¿ƒç³Šå›¢ï¼šæ–°çš„ç²’å­é£å°„åŠ¨ç”»
   ========================================= */

@keyframes firework-fly {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    /* ç²’å­çœŸæ­£é£å‘å››å‘¨ï¼ˆç”± JS ä¼ å…¥çš„å˜é‡æ§åˆ¶æ–¹å‘ï¼‰ */
    transform: translate(var(--tx), var(--ty)) scale(0.5);
    opacity: 0;
  }
}
/*.baloons img {*/
/*  !* ç»™æ°”çƒåŠ æŠ•å½±ï¼Œäº§ç”Ÿè·ç¦»æ„Ÿ *!*/
/*  filter: drop-shadow(5px 10px 10px rgba(0, 0, 0, 0.2));*/

/*  !* å¯é€‰ï¼šè®©æ°”çƒç¨å¾®é€ä¸€ç‚¹å…‰ï¼Œæ›´çœŸå® *!*/
/*  opacity: 0.95;*/

/*  !* ç¨å¾®è°ƒæ•´æ··åˆæ¨¡å¼ï¼Œè®©å®ƒä»¬å åœ¨ä¸€èµ·æ—¶æ›´å¥½çœ‹ *!*/
/*  mix-blend-mode: multiply;*/
/*}*/
/* =========================================
   12. åŸåŠ¨ç”»ä¼˜åŒ–ï¼šæ–‡å­—æ’ç‰ˆ
   ========================================= */
/* é’ˆå¯¹æ‰€æœ‰åŸåŠ¨ç”»é‡Œçš„æ–‡å­—å®¹å™¨ */
.one, .two, .three, .four, .five, .six, .wish-hbd, .wish h5 {
  font-family: var(--font-classic), 'Work Sans', sans-serif !important;
  color: #4a4a4a; /* ç”¨æ·±ç°ä»£æ›¿çº¯é»‘ï¼Œæ›´æŸ”å’Œ */
}

/* ç‰¹åˆ«ä¼˜åŒ–ä¸­é—´é‚£å¥ "Happy Birthday" */
.wish-hbd {
  font-weight: 900 !important; /* åŠ ç²— */
  letter-spacing: 2px;
  background: linear-gradient(45deg, #ff9a9e, #fad0c4);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent; /* å˜æˆæ¸å˜è‰²æ–‡å­— */
  text-shadow: none; /* æ¸å˜æ–‡å­—ä¸éœ€è¦é˜´å½± */
  filter: drop-shadow(0 2px 5px rgba(255, 105, 180, 0.3));
}

/* ä¼˜åŒ–å¯¹è¯æ¡† (Chatbox) */
.four .text-box {
  background: rgba(255, 255, 255, 0.8); /* åŠé€æ˜ç™½åº• */
  backdrop-filter: blur(5px); /* æ¯›ç»ç’ƒ */
  border: 2px solid #ff9a9e !important; /* è¾¹æ¡†å˜ç²‰è‰² */
  border-radius: 15px !important;
  box-shadow: 0 10px 20px rgba(0,0,0,0.05);
}
/* =========================================
   ğŸš€ æ€§èƒ½ä¼˜åŒ–è¡¥ä¸ï¼šè§£å†³æ‰‹æœºç«¯ SVG åŠ¨ç”»å¡é¡¿
   ========================================= */

/* é’ˆå¯¹åŸæœ‰åŠ¨ç”»é‡Œçš„å½©è‰²åœ†åœˆçƒŸèŠ± */
.eight svg {
    /* 1. å‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªå…ƒç´ å³å°†å˜åŒ–ï¼Œè¯·æå‰ä¼˜åŒ– */
    will-change: transform, opacity;
    
    /* 2. å¼€å¯ç¡¬ä»¶åŠ é€Ÿ (GPU)ï¼Œé˜²æ­¢é‡ç»˜ */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    
    /* 3. ç¨å¾®é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé˜²æ­¢æ”¾å¤§åæ’‘çˆ†æ¸²æŸ“å±‚ */
    max-width: 100vw; 
    max-height:}
  /* =========================================
   13. å¢å¼ºç‰ˆï¼šGreeting æ¸å˜æ–¹æ¡†
   ========================================= */
.greeting-box {
  display: inline-block !important; /* å¼ºåˆ¶æ˜¾ç¤ºä¸ºå—çº§ï¼Œå¦åˆ™èƒŒæ™¯æ— æ•ˆ */
  background: linear-gradient(135deg, #ff4d4d, #ffb700) !important; /* å¼ºåˆ¶åº”ç”¨æ¸å˜ */
  padding: 8px 24px !important;    /* ç¨å¾®åŠ å¤§å†…è¾¹è· */
  border-radius: 15px !important;  /* æ˜æ˜¾çš„åœ†è§’ */
  box-shadow: 0 8px 20px rgba(255, 77, 77, 0.4) !important; /* å¢å¼ºå‘å…‰æ„Ÿ */
  margin-right: 15px !important;   /* ä¸åå­— Lydia ä¿æŒè·ç¦» */
  vertical-align: middle !important; /* ç¡®ä¿ä¸åå­—å¯¹é½ */
}

/* å¼ºåˆ¶è®©æ–¹æ¡†å†…çš„æ–‡å­—å˜ç™½ï¼Œé˜²æ­¢è¢«å…¶ä»–æ ·å¼è¦†ç›– */
.greeting-box span[data-node-name="greeting"] {
  color: white !important;
  font-weight: bold !important;
  text-shadow: none !important; /* å»é™¤å¯èƒ½å­˜åœ¨çš„æ–‡å­—é˜´å½± */
}

/* ç§»åŠ¨ç«¯ç‰¹æ®Šä¼˜åŒ–ï¼šé˜²æ­¢æ–‡å­—å¤ªæ‹¥æŒ¤ */
@media screen and (max-width: 500px) {
  .greeting-box {
    padding: 4px 12px !important;
    font-size: 0.6em !important; /* æ‰‹æœºç«¯è‡ªåŠ¨ç¼©å°æ¯”ä¾‹ */
  }
}
